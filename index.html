<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>Happy Thursday, Bao ğŸ§¡</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,700;1,400&family=Lora:ital@0;1&display=swap" rel="stylesheet">
<style>
  :root {
    --cream: #FDF6EC;
    --peach: #F4A56A;
    --rose: #E8736A;
    --deep: #3D2B1F;
    --gold: #D4A853;
    --soft: #FAE8D8;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    background: var(--cream);
    font-family: 'Lora', serif;
    color: var(--deep);
    min-height: 100vh;
    overflow-x: hidden;
  }

  /* ---- LANDING SCREEN ---- */
  #landing {
    position: fixed; inset: 0;
    background: var(--deep);
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    z-index: 100;
    transition: opacity 0.8s ease, transform 0.8s ease;
  }
  #landing.gone {
    opacity: 0; transform: translateY(-30px);
    pointer-events: none;
  }

  .envelope {
    font-size: 80px;
    animation: pulse 1.5s ease-in-out infinite;
    cursor: pointer;
    user-select: none;
  }
  @keyframes pulse {
    0%,100% { transform: scale(1); }
    50% { transform: scale(1.1) rotate(-3deg); }
  }
  .tap-text {
    color: var(--peach);
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.1rem;
    margin-top: 1.5rem;
    opacity: 0.8;
    animation: blink 2s ease-in-out infinite;
  }
  @keyframes blink {
    0%,100% { opacity: 0.8; } 50% { opacity: 0.3; }
  }

  /* ---- MAIN CONTENT ---- */
  #main {
    opacity: 0;
    transition: opacity 1s ease 0.3s;
    pointer-events: none;
  }
  #main.visible {
    opacity: 1;
    pointer-events: all;
  }

  /* Floating hearts background */
  .hearts-bg {
    position: fixed; inset: 0; pointer-events: none; overflow: hidden; z-index: 0;
  }
  .heart-float {
    position: absolute;
    bottom: -60px;
    font-size: 1.2rem;
    opacity: 0.15;
    animation: floatUp linear infinite;
  }
  @keyframes floatUp {
    0% { transform: translateY(0) rotate(0deg); opacity: 0.15; }
    100% { transform: translateY(-110vh) rotate(20deg); opacity: 0; }
  }

  /* Header */
  .header {
    position: relative; z-index: 1;
    text-align: center;
    padding: 3.5rem 1.5rem 2rem;
  }
  .day-label {
    font-family: 'Playfair Display', serif;
    font-size: clamp(0.75rem, 3vw, 0.9rem);
    letter-spacing: 0.35em;
    color: var(--gold);
    text-transform: uppercase;
    margin-bottom: 0.5rem;
  }
  .main-title {
    font-family: 'Playfair Display', serif;
    font-size: clamp(2.4rem, 9vw, 4.5rem);
    line-height: 1.1;
    color: var(--rose);
    text-shadow: 2px 3px 0 rgba(61,43,31,0.08);
  }
  .main-title span {
    font-style: italic;
    color: var(--peach);
  }
  .subtitle {
    font-style: italic;
    margin-top: 1rem;
    font-size: 1rem;
    color: var(--deep);
    opacity: 0.7;
  }

  /* Note card */
  .note-card {
    position: relative; z-index: 1;
    background: white;
    border-radius: 20px;
    margin: 0 1.2rem 2rem;
    padding: 1.8rem 1.6rem;
    box-shadow: 0 8px 30px rgba(61,43,31,0.1), 0 2px 0 var(--gold) inset;
    border-top: 4px solid var(--peach);
  }
  .note-card p {
    font-size: 0.97rem;
    line-height: 1.8;
    color: var(--deep);
  }
  .note-card p + p { margin-top: 1rem; }
  .signature {
    margin-top: 1.2rem;
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 1.2rem;
    color: var(--rose);
    text-align: right;
  }

  /* Section header */
  .section-label {
    position: relative; z-index: 1;
    text-align: center;
    font-family: 'Playfair Display', serif;
    font-size: 1.5rem;
    color: var(--deep);
    padding: 0 1.5rem 0.5rem;
  }
  .section-label small {
    display: block;
    font-family: 'Lora', serif;
    font-style: italic;
    font-size: 0.85rem;
    color: var(--gold);
    margin-top: 0.2rem;
  }

  /* ---- MINIGAME: CATCH THE HEARTS ---- */
  #game-wrap {
    position: relative; z-index: 1;
    margin: 1rem 1.2rem 3rem;
    background: var(--deep);
    border-radius: 24px;
    overflow: hidden;
    padding: 1.5rem 1.2rem 1.8rem;
    box-shadow: 0 10px 40px rgba(61,43,31,0.2);
  }

  #score-bar {
    display: flex; justify-content: space-between; align-items: center;
    color: var(--cream);
    margin-bottom: 1rem;
    font-size: 0.95rem;
  }
  #score-bar .score-val {
    font-family: 'Playfair Display', serif;
    font-size: 1.4rem;
    color: var(--peach);
  }
  #score-bar .lives { letter-spacing: 2px; color: var(--rose); font-size: 1.1rem; }

  #canvas-wrap {
    position: relative;
    width: 100%;
    background: rgba(255,255,255,0.04);
    border-radius: 16px;
    overflow: hidden;
    touch-action: none;
  }
  #gameCanvas {
    display: block;
    width: 100%;
    border-radius: 16px;
  }

  #game-msg {
    text-align: center;
    color: var(--cream);
    font-family: 'Playfair Display', serif;
    font-style: italic;
    font-size: 0.9rem;
    margin-top: 1rem;
    opacity: 0.7;
  }

  #start-btn, #restart-btn {
    display: block;
    margin: 1rem auto 0;
    background: var(--peach);
    color: var(--deep);
    border: none; border-radius: 30px;
    padding: 0.7rem 2rem;
    font-family: 'Playfair Display', serif;
    font-size: 1rem;
    cursor: pointer;
    font-style: italic;
    box-shadow: 0 4px 0 rgba(0,0,0,0.2);
    transition: transform 0.1s;
  }
  #start-btn:active, #restart-btn:active { transform: scale(0.97); }

  /* overlay */
  #overlay {
    position: absolute; inset: 0;
    background: rgba(61,43,31,0.88);
    display: flex; flex-direction: column;
    align-items: center; justify-content: center;
    border-radius: 16px;
    text-align: center; padding: 2rem;
  }
  #overlay h2 {
    font-family: 'Playfair Display', serif;
    color: var(--peach);
    font-size: 1.8rem;
    margin-bottom: 0.5rem;
  }
  #overlay p { color: var(--cream); font-style: italic; margin-bottom: 1rem; font-size: 0.9rem; }
  #overlay.hidden { display: none; }

  footer {
    position: relative; z-index: 1;
    text-align: center;
    padding: 0 1rem 3rem;
    font-size: 1.6rem;
    color: var(--rose);
    letter-spacing: 4px;
  }
</style>
</head>
<body>

<!-- Landing screen -->
<div id="landing">
  <div class="envelope" id="envBtn">ğŸ’Œ</div>
  <p class="tap-text">tap to open your message</p>
</div>

<!-- Main content -->
<div id="main">
  <div class="hearts-bg" id="heartsBg"></div>

  <div class="header">
    <p class="day-label">Thursday Â· Just For You</p>
    <h1 class="main-title">Happy<br><span>Thursday,</span><br>Bao ğŸ§¡</h1>
    <p class="subtitle">a little something to brighten your day</p>
  </div>

  <div class="note-card">
    <p>Hey Bao, I just wanted to take a moment to remind you how much you mean to me â€” even on a regular Thursday.</p>
    <p>You make every ordinary day feel a little softer and a little warmer just by being in it. I hope today is as sweet as you are.</p>
    <p>I lub you. I wish you all the best nomnoms forever ğŸœâœ¨ Now go play the game below ğŸ®</p>
    <p class="signature">â€” Always yours ğŸ’›</p>
  </div>

  <div class="section-label">
    Catch the Hearts ğŸ’•
    <small>slide your finger to catch as many as you can!</small>
  </div>

  <div id="game-wrap">
    <div id="score-bar">
      <div>Score: <span class="score-val" id="scoreDisplay">0</span></div>
      <div class="lives" id="livesDisplay">â¤ï¸â¤ï¸â¤ï¸</div>
    </div>
    <div id="canvas-wrap">
      <canvas id="gameCanvas"></canvas>
      <div id="overlay">
        <h2>Catch the Hearts!</h2>
        <p>Slide your finger (or mouse) to move the basket.<br>Don't let hearts fall!</p>
        <button id="start-btn">Start Playing ğŸ’•</button>
      </div>
    </div>
    <p id="game-msg">Catch hearts, avoid the âœ–ï¸ ones!</p>
  </div>

  <footer>ğŸ§¡ ğŸŒ¸ ğŸ’› ğŸŒ· ğŸ’•</footer>
</div>

<script>
// --- Reveal on tap ---
document.getElementById('envBtn').addEventListener('click', () => {
  document.getElementById('landing').classList.add('gone');
  const main = document.getElementById('main');
  main.classList.add('visible');
  spawnHearts();
});

// --- Floating hearts background ---
function spawnHearts() {
  const bg = document.getElementById('heartsBg');
  const emojis = ['ğŸ§¡','ğŸ’›','ğŸŒ¸','ğŸ’•','âœ¨'];
  for (let i = 0; i < 18; i++) {
    const h = document.createElement('div');
    h.className = 'heart-float';
    h.textContent = emojis[Math.floor(Math.random()*emojis.length)];
    h.style.left = Math.random()*100 + '%';
    h.style.animationDuration = (6 + Math.random()*10) + 's';
    h.style.animationDelay = (Math.random()*8) + 's';
    h.style.fontSize = (0.9 + Math.random()*1.2) + 'rem';
    bg.appendChild(h);
  }
}

// ---- MINIGAME ----
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');
const overlay = document.getElementById('overlay');
const scoreDisplay = document.getElementById('scoreDisplay');
const livesDisplay = document.getElementById('livesDisplay');
const gameMsgEl = document.getElementById('game-msg');

let W, H;
function resize() {
  const wrap = document.getElementById('canvas-wrap');
  W = canvas.width = wrap.clientWidth;
  H = canvas.height = Math.min(340, window.innerHeight * 0.4);
}
resize();
window.addEventListener('resize', resize);

const BASKET_W = 70, BASKET_H = 22;
let basket = { x: 0, speed: 6 };
let items = [], score = 0, lives = 3, running = false, frame = 0, highScore = 0;
let spawnRate = 70;

const HEARTS = ['ğŸ’•','ğŸ§¡','ğŸ’›','ğŸŒ¸','ğŸ’–'];
const BAD = ['âœ–ï¸'];

function resetGame() {
  items = []; score = 0; lives = 3; frame = 0; spawnRate = 70;
  basket.x = W / 2;
  updateHUD();
}

function updateHUD() {
  scoreDisplay.textContent = score;
  livesDisplay.textContent = 'â¤ï¸'.repeat(Math.max(0,lives));
  gameMsgEl.textContent = score >= 20 ? 'ğŸŒ¸ You\'re amazing, Bao!' :
                          score >= 10 ? 'ğŸ’• Keep going!' : 'Catch hearts, avoid the âœ–ï¸ ones!';
}

function spawnItem() {
  const isBad = Math.random() < 0.2;
  items.push({
    x: 20 + Math.random() * (W - 40),
    y: -20,
    vy: 2 + Math.random() * 2 + score * 0.04,
    emoji: isBad ? BAD[0] : HEARTS[Math.floor(Math.random()*HEARTS.length)],
    bad: isBad,
    size: 22
  });
}

function gameLoop() {
  if (!running) return;
  frame++;
  if (frame % spawnRate === 0) {
    spawnItem();
    if (spawnRate > 35) spawnRate -= 0.5;
  }

  ctx.clearRect(0, 0, W, H);

  // Draw basket
  const bx = basket.x - BASKET_W/2, by = H - BASKET_H - 12;
  ctx.save();
  ctx.fillStyle = '#F4A56A';
  ctx.beginPath();
  ctx.roundRect(bx, by, BASKET_W, BASKET_H, 8);
  ctx.fill();
  ctx.fillStyle = '#3D2B1F';
  ctx.font = 'bold 13px Lora, serif';
  ctx.textAlign = 'center';
  ctx.fillText('Bao ğŸ§º', basket.x, by + 15);
  ctx.restore();

  // Draw & update items
  for (let i = items.length - 1; i >= 0; i--) {
    const it = items[i];
    it.y += it.vy;
    ctx.font = it.size + 'px serif';
    ctx.textAlign = 'center';
    ctx.fillText(it.emoji, it.x, it.y);

    // catch?
    if (it.y >= by && it.y <= by + BASKET_H + 10 &&
        it.x >= bx - 10 && it.x <= bx + BASKET_W + 10) {
      if (it.bad) { lives--; if(lives<=0){endGame();return;} }
      else { score += 1; }
      updateHUD();
      items.splice(i, 1);
      continue;
    }
    // missed
    if (it.y > H + 30) {
      if (!it.bad) { lives--; if(lives<=0){endGame();return;} updateHUD(); }
      items.splice(i, 1);
    }
  }

  requestAnimationFrame(gameLoop);
}

function endGame() {
  running = false;
  if (score > highScore) highScore = score;
  overlay.classList.remove('hidden');
  overlay.innerHTML = `
    <h2>${score >= 20 ? 'ğŸŒ¸ Amazing!' : score >= 10 ? 'ğŸ’• Well done!' : 'ğŸ§¡ Good try!'}</h2>
    <p>You scored <strong>${score}</strong> hearts!<br>
    ${score >= 20 ? 'You\'re just as lovely as your score, Bao ğŸ’›' :
      score >= 10 ? 'You\'re getting there, keep playing! ğŸŒ¸' :
      'Practice makes perfect â€” just like your smile!'}<br>
    Best: ${highScore}</p>
    <button id="restart-btn">Play Again ğŸ’•</button>
  `;
  document.getElementById('restart-btn').addEventListener('click', startGame);
}

function startGame() {
  resetGame();
  overlay.classList.add('hidden');
  running = true;
  gameLoop();
}

document.getElementById('start-btn').addEventListener('click', startGame);

// Touch & mouse controls
function setBasket(clientX) {
  const rect = canvas.getBoundingClientRect();
  const scale = W / rect.width;
  let x = (clientX - rect.left) * scale;
  basket.x = Math.max(BASKET_W/2, Math.min(W - BASKET_W/2, x));
}

canvas.addEventListener('mousemove', e => { if(running) setBasket(e.clientX); });
canvas.addEventListener('touchmove', e => {
  e.preventDefault();
  if(running) setBasket(e.touches[0].clientX);
}, {passive: false});
canvas.addEventListener('touchstart', e => {
  if(running) setBasket(e.touches[0].clientX);
}, {passive: true});
</script>
</body>
</html>
